package tokenizer

import (
	"strings"
	"testing"

	"github.com/stretchr/testify/assert"
)

var expected = `Oil explorers... Soco International and Cairn Energy have been reported to UK regulators for allegedly failing to tell investors enough about the risks that climate change poses to their businesses.  Soco and Cairn deny the claims.  The complaint from ClientEarth environmental law firm in London is the latest in a string of legal challenges to fossil fuel companies from campaigners seeking faster action on global warming.  The firm has written to the Financial Reporting Council , the accounting and auditing watchdog, arguing climate change poses “significant” physical and financial threats to oil and gas companies that amount to a material risk.  This should be disclosed to investors under UK companies’ law provisions that required businesses to describe “the principal risk and uncertainties” they faced, ClientEarth said.  London-listed Soco and Cairn did not do this sufficiently in their most recent annual reports and accounts, the firm alleged.  “Failing to adequately disclose climate risks is failing to mention one of the most important risks facing the company,” said Alice Garton, the ClientEarth lawyer handling the case.  Soco strongly rebuffed ClientEarth’s claims and said it was confident the group had met its legal obligations. However, the group said it took allegations of non-compliance seriously and was reviewing the law firm’s complaint.  While climate change was a key consideration for the company, Soco told the FT its board had decided that, “in keeping with its sector peers”, it would not include climate change as “a separate risk among the principal risks to the company’s strategy in 2015”.  The company said the principal risks listed in its annual report include uncertainties and trends potentially associated with climate change, as identified by ClientEarth, including environmental impacts, commodity prices and operating costs.  Soco added it will continue to identify the key areas of risk and uncertainties to the group’s business, including a continued assessment of the potential impact of climate change.  Cairn said it was a constituent of the FTSE4Good index designed to identify companies with recognised corporate responsibility practices and took its commitments to responsible and transparent reporting “very seriously”.  “We continually identify corporate responsibility priorities and our 2015 annual report featured climate change in the comprehensive materiality matrix,” Cairn said.  The matrix is a diagram showing the importance of various issues to Cairn and its stakeholders, including succession planning, biodiversity and accident prevention.  Both Cairn and Soco’s annual reports disclose greenhouse gas emissions from their own activities, as required under UK law.  Cairn noted the UN climate accord , which nearly every country agreed in Paris in December, said net emissions should fall to zero some time between 2050 and 2100 and governments should keep global warming “well below 2C” from pre-industrial levels, while trying for a safer 1.5C.  Cairn, which operates in Senegal, the UK and other countries, said it expected emissions management “will become increasingly important to any future production”.  The report by Soco, which is active in Vietnam, Angola and the Republic of Congo, mentioned the climate risk information it volunteered to the Carbon Disclosure Project , a non-government organisation. It has said the magnitude of the impact of threats such as energy taxes and hurricanes is unknown.  ClientEarth said physical climate threats could disrupt companies’ operations on the ground.  Separately, the law firm pointed to bank research on the financial risks fossil fuel companies face from carbon taxes, electric car subsidies and other policies aimed at cutting greenhouse gases and promoting greener energy alternatives.  Citibank said last year the switch to a low-carbon world could lead to “unburnable” fossil fuel reserves with a value amounting to more than $100tn by 2050. Barclays estimated that oil industry revenues could be cut by $22tn between 2014 and 2040.  “These are obviously very serious predictions for the oil and gas industry and those who invest in it,” said ClientEarth.  The firm said climate risks were spelt out in the reports of other London-listed oil companies, such as Tullow Oil and Royal Dutch Shell.   Tullow’s latest annual report acknowledged suggestions that, as governments adopted stricter climate policies, “the majority of coal, oil and gas deposits will remain undeveloped”.  “Tullow recognises the potential risks in light of this issue,” the report said, adding the group still believed the oil and gas industry will have a role “for decades to come”.  The FRC said it would look at ClientEarth’s suggestions and “see what if any next steps need to be taken”.  `

func TestTokenize(t *testing.T) {
	tt := NewTokenizer(strings.NewReader(expected))
	content := tt.Tokenize()

	assert.Equal(t, 31, content.TotalSentences)
	assert.Equal(t, 738, content.TotalWords)
}
